<template>
  <div>
    <a-card title="缺陷分类统计">
      <div class="tableContent">
        <a-row>
          <a-col :span="24">
            <a-table :columns="columns"
                     :dataSource="dataSource"
                     :pagination="pagination"
                     :loading="loading"
                     :rowKey="record => record.name">

            </a-table>
          </a-col>
        </a-row>
      </div>

    </a-card>
  </div>
</template>

<script>
import {getColumn} from "@/utils/myUtils";
import config from "@/utils/config";
export default {
  name: "vulnerabilityClassified",
  props: {
    dataSource: {
      type: Array,
      required: true
    }
  },
  data() {
    return {
      loading: false,
      pagination: config.pagination,
    }
  },
  computed: {
    columns() {
      const columns = [
        getColumn("漏洞类型", "name", (a, b) => a.name.localeCompare(b.name)),
        getColumn("数量", "number", (a, b) => a.number - b.number),
        getColumn("文件数", "files", (a, b) => a.files - b.files),
        getColumn("缺陷行数", "totalLines", (a, b) => a.totalLines - b.totalLines),
        getColumn("最高等级", "highestLevel", (a, b) => a.highestLevel.localeCompare(b.highestLevel)),
      ];
      return columns;
    },
  }
}
</script>

<style scoped>

</style>